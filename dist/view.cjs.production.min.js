"use strict";require("regenerator-runtime/runtime");var e=Symbol("directive");function t(t){return function(t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return{is:e,factory:t,args:n}}}(t)}var r,n=function(e){return e.toLowerCase()!=e.toUpperCase()};!function(e){e[e.TEXT=0]="TEXT",e[e.ATTRIBUTE=1]="ATTRIBUTE",e[e.ATTRIBUTE_VALUE=2]="ATTRIBUTE_VALUE"}(r||(r={}));var o=function(e,t,r){for(;t++;){var n=r.charAt(t);if(!n)break;if(" "===n)return r.slice(0,t)+" "+e+r.slice(t)}return r},u=function(e){return"tm-"+e},i=function(e){return"data-am-"+e};function a(t){return t.is&&t.is===e}var c,f=new WeakMap,s=new WeakMap,p=new WeakMap,l=function(e,t){var n;if(!s.has(e)){var o=[];p.set(e,o),n=t.template.content.cloneNode(!0),t.directives.forEach((function(e,t){var a,c;switch(e.t){case r.TEXT:var f=n.querySelector(u(t)),s=f.firstChild;o[t]=(a=e.d).factory.apply(a,[s].concat(e.d.args)),f.parentElement.replaceChild(s,f);break;case r.ATTRIBUTE:case r.ATTRIBUTE_VALUE:var p=i(t),l=n.querySelector("["+p+"]");o[t]=(c=e.d).factory.apply(c,[l].concat(e.d.args)),l.removeAttribute(p)}})),s.set(e,Array.from(n.childNodes))}var a=p.get(e);t.directives.forEach((function(e,t){a[t].next(e.d.args)})),n&&e.appendChild(n)};!function(e){e[e.IMMEDIATE=0]="IMMEDIATE",e[e.USER_BLOCKING=250]="USER_BLOCKING",e[e.NORMAL=5e3]="NORMAL",e[e.LOW=1e4]="LOW",e[e.IDLE=99999999]="IDLE"}(c||(c={}));var v=[],d=!1,h=function e(){var t=Date.now();(v=function(e,t){for(var r=0,n=e.length;r<n;r++){var o=Date.now()-t,u=e[r],i=u[0];if(!(t>=u[1]||o<17))break;i()}return e.slice(r)}(v.sort((function(e,t){return e[1]<t[1]?-1:1})),t)).length>0?requestAnimationFrame(e):d=!1},m=function(e,t){return void 0===t&&(t=c.NORMAL),t!==c.IMMEDIATE?new Promise((function(r){v.push([function(){e(),r()},Date.now()+t]),d||(requestAnimationFrame(h),d=!0)})):(e(),Promise.resolve())},g=t(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==t.nodeType){e.next=10;break}n=document.createElement("span"),t.parentElement.insertBefore(n,t),t.parentElement.removeChild(t);case 4:return m((function(){var e;s.has(e=n)&&(s.get(e).forEach((function(t){return e.removeChild(t)})),s.delete(e)),l(n,r())}),c.USER_BLOCKING),void(e.next=7);case 7:r=e.sent[0];case 8:e.next=4;break;case 10:case"end":return e.stop()}}),e)})));function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,r){return(y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&b(o,r.prototype),o}).apply(null,arguments)}function R(e){var t="function"==typeof Map?new Map:void 0;return(R=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,E(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)})(e)}var x,T=Symbol("$P"),w=function(e,t){x=t;var r=e();return x=void 0,r},A=function(e){void 0===e&&(e={});var t=x;return function e(t,r){var n=new Proxy(t,{get:function(t,n){return t[n]&&"object"==typeof t[n]&&t[n].__$p!==T&&(t[n]=e(t[n],r)),t[n]},set:function(e,t,n){return e[t]!==n&&"__$p"!==t&&(e[t]=n,r()),!0}});return n.__$p=T,n}(e,(function(){return t&&t()}))},_=window,I=function(e,t){_.__$c=e,t(),_.__$c=void 0},O=function(){if(_.__$c)return _.__$c;throw"getElement can only be used during setup!"},L=new WeakMap,M=function(e,t){var r=O();L.set(r,(L.get(r)||[]).concat({e:e,d:t}))},k=function(e){var t=e.d,r=e.p,n=!0;if(t){var o=t();r&&-1===(o===r||o.length===r.length&&o.findIndex((function(e,t){return r[t]!==e})))&&(n=!1)}return n},U=new Map,S=new WeakMap,B=t(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.textContent=r,void(e.next=3);case 3:r=e.sent[0];case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)}))),P=t(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={cb:r},t.addEventListener("input",(function(e){var t=e.target.value;m((function(){return n.cb(t)}),c.NORMAL)}));case 2:return void(e.next=4);case 4:n.cb=e.sent[0];case 5:e.next=2;break;case 7:case"end":return e.stop()}}),e)}))),C=t(regeneratorRuntime.mark((function e(t,r,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={cb:n},t.addEventListener(r,(function(e){m((function(){return o.cb(e)}),c.IMMEDIATE)}));case 2:return void(e.next=4);case 4:o.cb=e.sent[1];case 5:e.next=2;break;case 7:case"end":return e.stop()}}),e)})));exports.$attr=function(e,t){void 0===t&&(t="");var r=O();!function(e){if(!S.has(e)){var t=new MutationObserver((function(t){var r=t,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var u;if(n){if(o>=r.length)break;u=r[o++]}else{if((o=r.next()).done)break;u=o.value}var i=u;"attributes"===i.type&&((U.get(e)||{})[i.attributeName]||[]).forEach((function(e){return e()}))}}));S.set(e,t)}}(r),function(e,t,r){U.has(e)||U.set(e,{}),U.get(e)[t]||(U.get(e)[t]=[]),U.get(e)[t].push(r)}(r,e,(function(){var t=r.getAttribute(e);n.value!==t&&(n.value=r.getAttribute(e))})),r.setAttribute(e,t);var n=A({value:r.getAttribute(e)});return M((function(){!function(e){S.has(e)&&S.get(e).disconnect()}(r),r.setAttribute(e,n.value),function(e){S.has(e)&&S.get(e).observe(e,{attributes:!0})}(r)}),(function(){return[n.value]})),n},exports.$prop=function(e,t){var r=O(),n=A({value:t});return Object.defineProperty(r,e,{get:function(){return n.value},set:function(e){n.value=e}}),n},exports.$state=A,exports.component=function(e,t){customElements.define(e,function(e){var r,n;function o(){var r;return(r=e.call(this)||this).renderQueued=!1,r.nextRenderQueued=!1,r.attachShadow({mode:"open"}),I(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),(function(){return w((function(){return r.render=t().render}),(function(){r.performRender()}))})),r.performRender(),r}return n=e,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o.prototype.performRender=function(){var e=this,t=this;this.renderQueued?this.nextRenderQueued=!0:(this.renderQueued=!0,m((function(){l(t.shadowRoot,t.render())}),c.USER_BLOCKING).then((function(){try{return Promise.resolve((t=L.get(e)||[]).length>0?Promise.all(t.map((function(e){var t=e.c;if(t&&k(e))return m((function(){t(),e.c=void 0}),c.USER_BLOCKING)})).filter((function(e){return e}))).then((function(){return Promise.all(t.map((function(e){var t=e.e,r=e.d,n=k(e);if(r&&(e.p=r()),n)return m((function(){var r=t();r&&(e.c=r)}),c.USER_BLOCKING)})).filter((function(e){return e})))})):Promise.resolve([]))}catch(e){return Promise.reject(e)}var t})).then((function(){t.renderQueued=!1,t.nextRenderQueued&&(t.nextRenderQueued=!1,t.performRender())})))},o}(R(HTMLElement)))},exports.createDirective=t,exports.getElement=O,exports.html=function(e){for(var t=f.get(e),c=arguments.length,s=new Array(c>1?c-1:0),p=1;p<c;p++)s[p-1]=arguments[p];if(t){var l=0;s.forEach((function(e){a(e)&&(t.directives[l].d=e,l++)}))}else{for(var v="",d=[],h=0;h<s.length;h++){var m=s[h],g=e[h];if(v+=g,a(m))for(var E=d.push({d:m})-1,b=v.length+1,y=!1,R=!1,x=!1,T="";b--;){var w=v.charAt(b),A=v.charAt(b-1),_=v.charAt(b-2);if(">"===w||0===b){var I=u(E);v+="<"+I+">&zwnj;</"+I+">",d[E].t=r.TEXT;break}if('"'!==w||"="!==A||!n(_)||R)if('"'!==w||"="===_||y){if(y&&'"'!==w&&"="!==w&&!x&&(" "!==w?T=w+T:x=!0),"<"===w&&y){v=o(i(E),b,v),d[E].t=r.ATTRIBUTE_VALUE,d[E].a=T," "===v[v.length-1]&&(v=v.slice(0,v.length-1));break}if("<"===w&&!y){v=o(i(E),b,v),d[E].t=r.ATTRIBUTE;break}}else y=!1,R=!0;else y=!0}else v+=m}v+=e[e.length-1];var O=document.createElement("template");O.innerHTML=v,t={template:O,directives:d}}return f.set(e,t),t},exports.input=P,exports.on=C,exports.render=l,exports.setUpState=w,exports.sideEffect=M,exports.sub=g,exports.text=B;
//# sourceMappingURL=view.cjs.production.min.js.map
