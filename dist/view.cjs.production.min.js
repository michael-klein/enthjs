"use strict";var e,t=function(e){return e.toLowerCase()!=e.toUpperCase()};!function(e){e[e.TEXT=0]="TEXT",e[e.ATTRIBUTE=1]="ATTRIBUTE",e[e.ATTRIBUTE_VALUE=2]="ATTRIBUTE_VALUE"}(e||(e={}));var n=function(e,t,n){for(;t++;){var r=n.charAt(t);if(!r)break;if(" "===r)return n.slice(0,t)+" "+e+n.slice(t)}return n},r=function(e){return"tm-"+e},o=function(e){return"data-am-"+e},u=new WeakMap,i=new WeakMap,c=function(t,n){if(!i.has(t)){var u=n.template.content.cloneNode(!0);n.directives.forEach((function(t,n){switch(t.t){case e.TEXT:var i=u.querySelector(r(n)),c=i.firstChild;t.n=c,i.parentElement.replaceChild(c,i);break;case e.ATTRIBUTE:case e.ATTRIBUTE_VALUE:var a=o(n),f=u.querySelector("["+a+"]");f.removeAttribute(a),t.n=f}})),i.set(t,u.childNodes),t.appendChild(u)}n.directives.forEach((function(e){e.d(e.n)}))};function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&f(o,n.prototype),o}).apply(null,arguments)}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)})(e)}var l,v,d=Symbol("$P"),h=function(e,t){l=t;var n=e();return l=void 0,n},E=function(e){void 0===e&&(e={});var t=l;return function e(t,n){var r=new Proxy(t,{get:function(t,r){return t[r]&&"object"==typeof t[r]&&t[r].__$p!==d&&(t[r]=e(t[r],n)),t[r]},set:function(e,t,r){return e[t]!==r&&"__$p"!==t&&(e[t]=r,n()),!0}});return r.__$p=d,r}(e,(function(){return t&&t()}))};!function(e){e[e.IMMEDIATE=0]="IMMEDIATE",e[e.USER_BLOCKING=250]="USER_BLOCKING",e[e.NORMAL=5e3]="NORMAL",e[e.LOW=1e4]="LOW",e[e.IDLE=99999999]="IDLE"}(v||(v={}));var m=[],T=!1,y=function e(){var t=Date.now(),n=m;m=[];var r=function(e,t){return e.filter((function(e){var n=e[0],r=e[1],o=e[2],u=Date.now()-t;return!(Date.now()-r>o||u<17)||(n(),!1)}))}(n,t);(m=r.concat(m)).length>0?requestAnimationFrame(e):T=!1},g=function(e,t){return void 0===t&&(t=v.NORMAL),t!==v.IMMEDIATE?new Promise((function(n){m.push([function(){e(),n()},Date.now(),t]),T||(requestAnimationFrame(y),T=!0)})):(e(),Promise.resolve())},b=window,_=function(e,t){b.__$c=e,t(),b.__$c=void 0},A=function(){if(b.__$c)return b.__$c;throw"getElement can only be used during setup!"},R=new WeakMap,w=function(e,t){var n=A();R.set(n,(R.get(n)||[]).concat({e:e,d:t}))},I=function(e){var t=e.d,n=e.p,r=!0;if(t){var o=t();n&&-1===(o===n||o.length===n.length&&o.findIndex((function(e,t){return n[t]!==e})))&&(r=!1)}return r},x=new Map,O=new WeakMap;function M(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){e.apply(void 0,[t,g].concat(n))}}}var L=M((function(e,t,n){e instanceof Text&&t((function(){e.textContent=n}),v.IMMEDIATE)})),U=new WeakMap,P=M((function(e,t,n){e instanceof HTMLInputElement&&(U.has(e)||(U.set(e,e.value),e.addEventListener("input",(function(r){var o=r.target.value;o!==U.get(e)&&(t((function(){return n(o)}),v.USER_BLOCKING),U.set(e,o))}))))}));exports.$attr=function(e,t){void 0===t&&(t="");var n=A();!function(e){if(!O.has(e)){var t=new MutationObserver((function(t){var n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var u;if(r){if(o>=n.length)break;u=n[o++]}else{if((o=n.next()).done)break;u=o.value}var i=u;"attributes"===i.type&&((x.get(e)||{})[i.attributeName]||[]).forEach((function(e){return e()}))}}));O.set(e,t)}}(n),function(e,t,n){x.has(e)||x.set(e,{}),x.get(e)[t]||(x.get(e)[t]=[]),x.get(e)[t].push(n)}(n,e,(function(){var t=n.getAttribute(e);r.value!==t&&(r.value=n.getAttribute(e))})),n.setAttribute(e,t);var r=E({value:n.getAttribute(e)});return w((function(){!function(e){O.has(e)&&O.get(e).disconnect()}(n),n.setAttribute(e,r.value),function(e){O.has(e)&&O.get(e).observe(e,{attributes:!0})}(n)}),(function(){return[r.value]})),r},exports.$prop=function(e,t){var n=A(),r=E({value:t});return Object.defineProperty(n,e,{get:function(){return r.value},set:function(e){r.value=e}}),r},exports.$state=E,exports.component=function(e,t){customElements.define(e,function(e){var n,r;function o(){var n;return(n=e.call(this)||this).renderQueued=!1,n.nextRenderQueued=!1,n.attachShadow({mode:"open"}),_(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),(function(){return h((function(){return n.render=t().render}),(function(){n.performRender()}))})),n.performRender(),n}return r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,o.prototype.performRender=function(){var e=this,t=this;this.renderQueued?this.nextRenderQueued=!0:(this.renderQueued=!0,g((function(){c(t.shadowRoot,t.render())}),v.USER_BLOCKING).then((function(){try{return Promise.resolve((t=R.get(e)||[]).length>0?Promise.all(t.map((function(e){var t=e.c;if(t&&I(e))return g((function(){t(),e.c=void 0}),v.USER_BLOCKING)})).filter((function(e){return e}))).then((function(){return Promise.all(t.map((function(e){var t=e.e,n=e.d,r=I(e);if(n&&(e.p=n()),r)return g((function(){var n=t();n&&(e.c=n)}),v.USER_BLOCKING)})).filter((function(e){return e})))})):Promise.resolve([]))}catch(e){return Promise.reject(e)}var t})).then((function(){t.renderQueued=!1,t.nextRenderQueued&&(t.nextRenderQueued=!1,t.performRender())})))},o}(p(HTMLElement)))},exports.createDirective=M,exports.getElement=A,exports.html=function(i){for(var c=u.get(i),a=arguments.length,f=new Array(a>1?a-1:0),s=1;s<a;s++)f[s-1]=arguments[s];if(c){var p=0;f.forEach((function(e){"function"==typeof e&&(c.directives[p].d=e,p++)}))}else{for(var l="",v=[],d=0;d<f.length;d++){var h=f[d],E=i[d];if(l+=E,"function"==typeof h)for(var m=v.push({d:h})-1,T=l.length+1,y=!1,g=!1,b=!1,_="";T--;){var A=l.charAt(T),R=l.charAt(T-1),w=l.charAt(T-2);if(">"===A||0===T){var I=r(m);l+="<"+I+">&zwnj;</"+I+">",v[m].t=e.TEXT;break}if('"'!==A||"="!==R||!t(w)||g)if('"'!==A||"="===w||y){if(y&&'"'!==A&&"="!==A&&!b&&(" "!==A?_=A+_:b=!0),"<"===A&&y){l=n(o(m),T,l),v[m].t=e.ATTRIBUTE_VALUE,v[m].a=_," "===l[l.length-1]&&(l=l.slice(0,l.length-1));break}if("<"===A&&!y){l=n(o(m),T,l),v[m].t=e.ATTRIBUTE;break}}else y=!1,g=!0;else y=!0}else l+=h}l+=i[i.length-1];var x=document.createElement("template");x.innerHTML=l,c={template:x,directives:v}}return u.set(i,c),c},exports.input=P,exports.render=c,exports.setUpState=h,exports.sideEffect=w,exports.text=L;
//# sourceMappingURL=view.cjs.production.min.js.map
