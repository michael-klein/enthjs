"use strict";var e,t=function(e){return e.toLowerCase()!=e.toUpperCase()};!function(e){e[e.TEXT=0]="TEXT",e[e.ATTRIBUTE=1]="ATTRIBUTE",e[e.ATTRIBUTE_VALUE=2]="ATTRIBUTE_VALUE"}(e||(e={}));var n,r=function(e,t,n){for(;t++;){var r=n.charAt(t);if(!r)break;if(" "===r)return n.slice(0,t)+" "+e+n.slice(t)}return n},o=function(e){return"tm-"+e},u=function(e){return"data-am-"+e},i=new WeakMap,c=new WeakMap,a=function(t,n){var r;c.has(t)||(r=n.template.content.cloneNode(!0),n.directives.forEach((function(t,n){switch(t.t){case e.TEXT:var i=r.querySelector(o(n)),c=i.firstChild;t.n=c,i.parentElement.replaceChild(c,i);break;case e.ATTRIBUTE:case e.ATTRIBUTE_VALUE:var a=u(n),f=r.querySelector("["+a+"]");f.removeAttribute(a),t.n=f}})),c.set(t,Array.from(r.childNodes))),n.directives.forEach((function(e){var t=e.d(e.n);t&&(e.n=t)})),r&&t.appendChild(r)};!function(e){e[e.IMMEDIATE=0]="IMMEDIATE",e[e.USER_BLOCKING=250]="USER_BLOCKING",e[e.NORMAL=5e3]="NORMAL",e[e.LOW=1e4]="LOW",e[e.IDLE=99999999]="IDLE"}(n||(n={}));var f=[],s=!1,p=function e(){var t=Date.now(),n=f;f=[];var r=function(e,t){return e.filter((function(e){var n=e[0],r=e[1],o=Date.now()-t;return!(t>=r||o<17)||(n(),!1)}))}(n.sort((function(e,t){return e[1]<t[1]?-1:1})),t);(f=r.concat(f)).length>0?requestAnimationFrame(e):s=!1},l=function(e,t){return void 0===t&&(t=n.NORMAL),t!==n.IMMEDIATE?new Promise((function(n){f.push([function(){e(),n()},Date.now()+t]),s||(requestAnimationFrame(p),s=!0)})):(e(),Promise.resolve())};function v(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return e.apply(void 0,[t,l].concat(n))}}}var d=v((function(e,t,r){if(3===e.nodeType){var o=document.createElement("span");e.parentElement.insertBefore(o,e),e.parentElement.removeChild(e),e=o}return t((function(){var t;c.has(t=e)&&(c.get(t).forEach((function(e){return t.removeChild(e)})),c.delete(t)),a(e,r())}),n.USER_BLOCKING),e}));function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return(m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&E(o,n.prototype),o}).apply(null,arguments)}function T(e){var t="function"==typeof Map?new Map:void 0;return(T=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),E(n,e)})(e)}var y,g=Symbol("$P"),b=function(e,t){y=t;var n=e();return y=void 0,n},A=function(e){void 0===e&&(e={});var t=y;return function e(t,n){var r=new Proxy(t,{get:function(t,r){return t[r]&&"object"==typeof t[r]&&t[r].__$p!==g&&(t[r]=e(t[r],n)),t[r]},set:function(e,t,r){return e[t]!==r&&"__$p"!==t&&(e[t]=r,n()),!0}});return r.__$p=g,r}(e,(function(){return t&&t()}))},_=window,R=function(e,t){_.__$c=e,t(),_.__$c=void 0},w=function(){if(_.__$c)return _.__$c;throw"getElement can only be used during setup!"},I=new WeakMap,x=function(e,t){var n=w();I.set(n,(I.get(n)||[]).concat({e:e,d:t}))},O=function(e){var t=e.d,n=e.p,r=!0;if(t){var o=t();n&&-1===(o===n||o.length===n.length&&o.findIndex((function(e,t){return n[t]!==e})))&&(r=!1)}return r},M=new Map,L=new WeakMap,U=v((function(e,t,r){e instanceof Text&&t((function(){e.textContent=r}),n.IMMEDIATE)})),B=new WeakMap,S=function(e,t,r,o){B.has(e)||(B.get(e)||[]).includes(r)||(B.set(e,[].concat(r,B.get(e)).filter((function(e){return e}))),e.addEventListener(r,(function(e){t((function(){return o(e)}),n.IMMEDIATE)})))},C=v(S),P=v((function(e,t,r){return S(e,t,"input",(function(e){var o=e.target.value;t((function(){return r(o)}),n.USER_BLOCKING)}))}));exports.$attr=function(e,t){void 0===t&&(t="");var n=w();!function(e){if(!L.has(e)){var t=new MutationObserver((function(t){var n=t,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var u;if(r){if(o>=n.length)break;u=n[o++]}else{if((o=n.next()).done)break;u=o.value}var i=u;"attributes"===i.type&&((M.get(e)||{})[i.attributeName]||[]).forEach((function(e){return e()}))}}));L.set(e,t)}}(n),function(e,t,n){M.has(e)||M.set(e,{}),M.get(e)[t]||(M.get(e)[t]=[]),M.get(e)[t].push(n)}(n,e,(function(){var t=n.getAttribute(e);r.value!==t&&(r.value=n.getAttribute(e))})),n.setAttribute(e,t);var r=A({value:n.getAttribute(e)});return x((function(){!function(e){L.has(e)&&L.get(e).disconnect()}(n),n.setAttribute(e,r.value),function(e){L.has(e)&&L.get(e).observe(e,{attributes:!0})}(n)}),(function(){return[r.value]})),r},exports.$prop=function(e,t){var n=w(),r=A({value:t});return Object.defineProperty(n,e,{get:function(){return r.value},set:function(e){r.value=e}}),r},exports.$state=A,exports.component=function(e,t){customElements.define(e,function(e){var r,o;function u(){var n;return(n=e.call(this)||this).renderQueued=!1,n.nextRenderQueued=!1,n.attachShadow({mode:"open"}),R(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),(function(){return b((function(){return n.render=t().render}),(function(){n.performRender()}))})),n.performRender(),n}return o=e,(r=u).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o,u.prototype.performRender=function(){var e=this,t=this;this.renderQueued?this.nextRenderQueued=!0:(this.renderQueued=!0,l((function(){a(t.shadowRoot,t.render())}),n.USER_BLOCKING).then((function(){try{return Promise.resolve((t=I.get(e)||[]).length>0?Promise.all(t.map((function(e){var t=e.c;if(t&&O(e))return l((function(){t(),e.c=void 0}),n.USER_BLOCKING)})).filter((function(e){return e}))).then((function(){return Promise.all(t.map((function(e){var t=e.e,r=e.d,o=O(e);if(r&&(e.p=r()),o)return l((function(){var n=t();n&&(e.c=n)}),n.USER_BLOCKING)})).filter((function(e){return e})))})):Promise.resolve([]))}catch(e){return Promise.reject(e)}var t})).then((function(){t.renderQueued=!1,t.nextRenderQueued&&(t.nextRenderQueued=!1,t.performRender())})))},u}(T(HTMLElement)))},exports.createDirective=v,exports.getElement=w,exports.html=function(n){for(var c=i.get(n),a=arguments.length,f=new Array(a>1?a-1:0),s=1;s<a;s++)f[s-1]=arguments[s];if(c){var p=0;f.forEach((function(e){"function"==typeof e&&(c.directives[p].d=e,p++)}))}else{for(var l="",v=[],d=0;d<f.length;d++){var h=f[d],E=n[d];if(l+=E,"function"==typeof h)for(var m=v.push({d:h})-1,T=l.length+1,y=!1,g=!1,b=!1,A="";T--;){var _=l.charAt(T),R=l.charAt(T-1),w=l.charAt(T-2);if(">"===_||0===T){var I=o(m);l+="<"+I+">&zwnj;</"+I+">",v[m].t=e.TEXT;break}if('"'!==_||"="!==R||!t(w)||g)if('"'!==_||"="===w||y){if(y&&'"'!==_&&"="!==_&&!b&&(" "!==_?A=_+A:b=!0),"<"===_&&y){l=r(u(m),T,l),v[m].t=e.ATTRIBUTE_VALUE,v[m].a=A," "===l[l.length-1]&&(l=l.slice(0,l.length-1));break}if("<"===_&&!y){l=r(u(m),T,l),v[m].t=e.ATTRIBUTE;break}}else y=!1,g=!0;else y=!0}else l+=h}l+=n[n.length-1];var x=document.createElement("template");x.innerHTML=l,c={template:x,directives:v}}return i.set(n,c),c},exports.input=P,exports.on=C,exports.render=a,exports.setUpState=b,exports.sideEffect=x,exports.sub=d,exports.text=U;
//# sourceMappingURL=view.cjs.production.min.js.map
