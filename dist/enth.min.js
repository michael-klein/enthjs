let ba=new WeakSet;function B(h,d,f={}){let l=!1,g=()=>{l&&d()};Object.keys(h).forEach(k=>{"object"!==typeof h[k]||ba.has(h[k])||(h[k]=B(h[k],d))});let m=new Proxy(h,{get:(k,n)=>{f.get&&f.get(k,n);return k[n]},set:(k,n,v)=>{f.set&&(v=f.set(k,n,v));"object"!==typeof v||ba.has(v)||(v=B(v,g));k[n]===v&&l||"__$p"===n||"on"===n||(k[n]=v,l&&d());k[n]=v;return!0}});ba.add(m);l=!0;return m}
let la=h=>{let d=[],f=!0;const l=B(h,()=>{f&&d.forEach(g=>g(l))});l.s=g=>{d.push(g);return()=>{const m=d.indexOf(g);-1<m&&d.splice(m,1)}};l.fa=g=>{const m=k=>{Object.keys(k).forEach(n=>{["on","merge"].includes(n)||(l[n]=k[n])})};g.s(k=>{m(k)});f=!1;m(g);f=!0};return l},H=[],L=!1,M=[],ma=(h,d)=>{let f=0;for(let l=h.length;f<l;f++){for(;0<M.length;)M.shift()();const g=Date.now()-d,[m,k]=h[f];if(d>=k||17>g)m();else break}return h.slice(f)},na=()=>{const h=Date.now();for(H=ma(H.sort((d,f)=>d[1]<f[1]?
-1:1),h);0<M.length;)M.shift()();0<H.length?requestAnimationFrame(na):L=!1},T=(h,d=5E3)=>{0===d?(L?M.push(h):h(),Promise.resolve()):new Promise(f=>{H.push([()=>{h();f()},Date.now()+d]);L||(requestAnimationFrame(na),L=!0)})};var U,V=void 0;
(U=(V={l:{}},function(h,d){function f(a){if(!a)throw Error("Expected value to be defined");return a}function l(a){if(!ca)throw Error("Cannot call "+a+"() unless in patch.");}function g(a){if(N)throw Error(a+"() can not be called between elementOpenStart() and elementOpenEnd().");}function m(a){if(da)throw Error(a+"() may not be called inside an element that has called skip().");}function k(a){if(!N)throw Error(a+"() can only be called after calling elementOpenStart().");}function n(a){let b=N;N=a;
return b}function v(a){let b=da;da=a;return b}function u(){}function y(a,b){for(;a.length>b;)a.pop()}function G(a,b,c){if(null==c)a.removeAttribute(b);else{let e=0===b.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===b.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":null;e?a.setAttributeNS(e,b,String(c)):a.setAttribute(b,String(c))}}function x(a,b,c){(O[b]||O[ea.default])(a,b,c)}function fa(a,b,c,e){b=new Pa(b,c,e);return a.__incrementalDOMData=b}function C(a,b){if(a.__incrementalDOMData)return a.__incrementalDOMData;
var c=1===a.nodeType?a.localName:a.nodeName,e=oa;e=1===a.nodeType&&null!=e?a.getAttribute(e):null;b=fa(a,c,1===a.nodeType?e||b:null);if(1===a.nodeType&&(c=a.attributes,e=c.length)){a=b.h(e);for(let q=0,t=0;q<e;q+=1,t+=2){let p=c[q],z=p.value;a[t]=p.name;a[t+1]=z}}return b}function pa(a){C(a);for(a=a.firstChild;a;a=a.nextSibling)pa(a)}function qa(a){a.__incrementalDOMData=null;for(a=a.firstChild;a;a=a.nextSibling)qa(a)}function ra(a,b,c,e,q){return b==c&&e==q}function sa(a,b,c){for(;b!==c;){let e=
b.nextSibling;a.removeChild(b);D.F(b);b=e}}function X(){return r?r.nextSibling:w.firstChild}function ta(){sa(w,X(),null);r=w;w=w.parentNode}function ua(){r=X()}function ha(a,b){ua();a:{if(r){var c=r;do{{var e=c;var q=a,t=b;let p=C(e,t);e=Y(e,q,p.i,t,p.key)}if(e)break a}while(b&&(c=c.nextSibling))}c=null}c||("#text"===a?(a=P.createTextNode(""),fa(a,"#text",null)):(c=P,e=w,c="function"===typeof a?new a:(e="svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/Math/MathML":null==e||
"foreignObject"===C(e,void 0).i?null:e.namespaceURI)?c.createElementNS(e,a):c.createElement(a),fa(c,a,b),a=c),D.D(a),c=a);a=c;if(a!==r){if(0<=Z.indexOf(a))for(b=w,c=a.nextSibling,e=r;null!==e&&e!==a;)q=e.nextSibling,b.insertBefore(e,c),e=q;else w.insertBefore(a,r);r=a}}function va(a,b){ha(a,b);w=r;r=null;return w}function wa(){v(!1);ta();return r}function ia(){l("currentElement");g("currentElement");return w}function xa(a,b={}){let {matches:c=ra}=b;return(e,q,t)=>{const p=D,z=P,aa=Z,Qa=I,Ra=Q,Sa=
r,Ta=w,Ua=Y;P=e.ownerDocument;D=new Va;Y=c;I=[];Q=[];r=null;var J=w=e.parentNode;var E;var F=Wa.call(e);if((E=11===F.nodeType||9===F.nodeType?F.activeElement:null)&&e.contains(E)){for(F=[];E!==J;)E=f(E),F.push(E),E=E.parentNode;J=F}else J=[];Z=J;J=n(!1);F=v(!1);ca=null!=D;try{const Xa=a(e,q,t);if(N)throw Error("elementOpenEnd() must be called after calling elementOpenStart().");return Xa}finally{D.G(),P=z,D=p,Y=Ua,I=Qa,Q=Ra,r=Sa,w=Ta,Z=aa,n(J),v(F),ca=null!=D}}}function ya(a){return xa((b,c,e)=>{w=
r=b;r=null;c(e);ta();if(r!==b){c=r;for(e=[];c&&c!==b;)e.push(c.nodeName.toLowerCase()),c=c.parentNode;throw Error("One or more tags were not closed:\n"+e.join("\n"));}return b},a)}function za(a){return xa((b,c,e)=>{let q={nextSibling:b},t,p;t=b.nextSibling;p=b.previousSibling;r=q;c(e);w||console.warn("patchOuter requires the node have a parent if there is a key.");{e=r;c=f(q);e=f(e);let z=e.nextSibling===c.nextSibling&&e.previousSibling===p;if(!(e.nextSibling===t&&e.previousSibling===p||z||e===c))throw Error("There must be exactly one top level call corresponding to the patched element.");
}w&&sa(w,X(),b.nextSibling);return q===r?null:r},a)}function ja(a,b,c,e){A.push(a);A.push(b);A.push(c);A.push(e)}function Aa(a,b){let c=Q;{b=b.h(c.length);var e=!b.length;let p=0;for(;p<c.length;p+=2){var q=c[p];if(e)b[p]=q;else if(b[p]!==q)break;let z=c[p+1];if(e||b[p+1]!==z)b[p+1]=z,ja(x,a,q,z)}if(p<c.length||p<b.length){for(p=e=p;p<b.length;p+=2)R[b[p]]=b[p+1];for(p=e;p<c.length;p+=2)e=c[p],q=c[p+1],R[e]!==q&&ja(x,a,e,q),b[p]=e,b[p+1]=q,delete R[e];y(b,c.length);for(var t in R)ja(x,a,t,void 0),
delete R[t]}a=ka;ka=t=A.length;for(b=a;b<t;b+=4)(0,A[b])(A[b+1],A[b+2],A[b+3]);ka=a;y(A,a)}y(c,0)}function Ba(a,b,c){if(!b.v&&(b.v=!0,c&&c.length))if(b.C())for(var e=0;e<c.length;e+=2)x(a,c[e],c[e+1]);else{for(var q=0;q<c.length;q+=2)K[c[q]]=q+1;b=b.h(0);q=0;for(let t=0;t<b.length;t+=2){let p=b[t],z=b[t+1],aa=K[p];aa?c[aa]===z&&delete K[p]:(b[q]=p,b[q+1]=z,q+=2)}y(b,q);for(e in K)x(a,e,c[K[e]]),delete K[e]}}function Ca(a,b,c){let e=I;g("elementOpenStart");n(!0);e[0]=a;e[1]=b;e[2]=c}function Da(a,
b){let c=Q;l("attr");c.push(a);c.push(b)}function Ea(){let a=I;k("elementOpenEnd");n(!1);let b=va(a[0],a[1]),c=C(b,void 0);Ba(b,c,a[2]);Aa(b,c);y(a,0);return b}function Fa(a,b,c,...e){g("elementOpen");m("elementOpen");Ca(a,b,c);for(e=3;e<arguments.length;e+=2)Da(arguments[e],arguments[e+1]);return Ea()}function Ga(a){g("elementClose");let b=wa();var c=C(b,void 0).i;if(c!==a)throw Error('Received a call to close "'+a+'" but "'+c+'" was open.');return b}Object.defineProperty(d,"__esModule",{value:!0});
let oa="key",N=!1,da=!1,ca=!1,Ya=Object.prototype.hasOwnProperty;u.prototype=Object.create(null);let ea={default:"__default"},O=new u;O[ea.default]=function(a,b,c){let e=typeof c;"object"===e||"function"===e?a[b]=c:G(a,b,c)};O.style=function(a,b,c){f("style"in a);a=a.style;if("string"===typeof c)a.cssText=c;else{a.cssText="";for(let t in c)if(Ya.call(c,t)){b=a;var e=t,q=c[t];0<=e.indexOf("-")?b.setProperty(e,q):b[e]=q}}};let S={m:null,o:null};class Va{constructor(){this.f=[];this.g=[]}D(a){this.f.push(a)}F(a){this.g.push(a)}G(){S.m&&
0<this.f.length&&S.m(this.f);S.o&&0<this.g.length&&S.o(this.g)}}let Wa="undefined"!==typeof Node&&Node.prototype.getRootNode||function(){let a=this,b=a;for(;a;)b=a,a=a.parentNode;return b};class Pa{constructor(a,b,c){this.c=null;this.v=!1;this.i=a;this.key=b;this.text=c}C(){let a=this.c;return!a||!a.length}h(a){var b;(b=this.c)||(a=Array(a),y(a,0),b=this.c=a);return b}}let D=null,r=null,w=null,P=null,Z=[],Y=ra,I=[],Q=[];h=ya();let Za=za(),A=[],ka=0,R=new u,K=new u;d.P=G;d.S=function(a,b,c){a[b]=c};
d.attributes=O;d.O=ha;d.close=wa;d.X=ya;d.Y=za;d.Z=ia;d.$=function(){l("currentPointer");g("currentPointer");return X()};d.open=va;d.I=h;d.ha=h;d.ia=Za;d.ka=function(){if(null!==r)throw Error("skip() must come before any child declarations inside the current element.");v(!0);r=w.lastChild};d.la=ua;d.ja=function(a){oa=a};d.W=qa;d.getKey=function(a){f(a.__incrementalDOMData);return C(a,void 0).key};d.importNode=pa;d.ea=function(a){return!!a.__incrementalDOMData};d.ga=S;d.M=ea;d.R=function(){let a=ia(),
b=C(a,void 0);Aa(a,b)};d.T=function(a){let b=ia(),c=C(b,void 0);Ba(b,c,a)};d.U=Da;d.w=Ga;d.A=Fa;d.aa=Ea;d.ba=Ca;d.ca=function(a,b,c,...e){Fa.apply(null,arguments);return Ga(a)};d.key=function(a){let b=I;k("key");f(b);b[1]=a};d.text=function(a,...b){g("text");m("text");ha("#text",null);b=r;var c=C(b,void 0);if(c.text!==a){c=c.text=a;for(let e=1;e<arguments.length;e+=1)c=(0,arguments[e])(c);b.data!==c&&(b.data=c)}return b}}(V,V.l),V.l))&&U.N&&Object.prototype.hasOwnProperty.call(U,"default");
var Ha=U.attributes,Ia=U.I,Ja=U.M,Ka=U.w,La=U.A,Ma=U.text;function Na(h,d,f,l){var g;d[0]=0;for(var m=1;m<d.length;m++){var k=d[m++],n=d[m]?(d[0]|=k?1:2,f[d[m++]]):d[++m];3===k?l[0]=n:4===k?l[1]=Object.assign(l[1]||{},n):5===k?(l[1]=l[1]||{})[d[++m]]=n:6===k?l[1][d[++m]]+=n+"":k?(g=h.apply(n,Na(h,n,f,["",null])),l.push(g),n[0]?d[0]|=2:(d[m-2]=0,d[m]=g)):l.push(n)}return l}var Oa=new Map;function $a(h){Array.isArray(h)&&(h={children:h});return h}
let ab=function(h){var d=Oa.get(this);return d||(d=new Map,Oa.set(this,d)),1<(d=Na(this,d.get(h)||(d.set(h,d=function(f){function l(x){1===k&&(x||(n=n.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,x,n):3===k&&(x||n)?(u.push(3,x,n),k=2):2===k&&"..."===n&&x?u.push(4,x,0):2===k&&n&&!x?u.push(5,0,!0,n):5<=k&&((n||!x&&5===k)&&(u.push(k,0,n,m),k=6),x&&(u.push(k,x,0,m),k=6));n=""}for(var g,m,k=1,n="",v="",u=[0],y=0;y<f.length;y++){y&&(1===k&&l(),l(y));for(var G=0;G<f[y].length;G++)g=f[y][G],1===k?"<"===
g?(l(),u=[u],k=3):n+=g:4===k?"--"===n&&">"===g?(k=1,n=""):n=g+n[0]:v?g===v?v="":n+=g:'"'===g||"'"===g?v=g:">"===g?(l(),k=1):k&&("="===g?(k=5,m=n,n=""):"/"===g&&(5>k||">"===f[y][G+1])?(l(),3===k&&(u=u[0]),k=u,(u=u[0]).push(2,0,k),k=0):" "===g||"\t"===g||"\n"===g||"\r"===g?(l(),k=2):n+=g),3===k&&"!--"===n&&(k=4,u=u[0])}return l(),u}(h)),d),arguments,[])).length?d:d[0]}.bind(function(h,d,...f){return{type:h,u:d,children:f}}),bb=Ha[Ja.default];
Ha[Ja.default]=(h,d,f)=>{"."===d[0]?f&&(h[d.substr(1)]=f):bb(h,d,f)};function cb(h){h=$a(h);if("function"===typeof h)h();else if("object"!==typeof h)(h||Number(h)===h)&&Ma(h);else{let {type:d,children:f,u:l}=h;"function"===typeof d?d():(d&&La(d,null,null,...l?Object.keys(l).flatMap(g=>[g,l[g]]):[]),f.forEach(cb),d&&Ka(d))}}function db(h,d,f=!1){T(()=>Ia(h,function(){cb(d,f)}))}let eb=Symbol("init");
function fb(h,d=!1){T(()=>{let f=h.J,l=h.da(),g=f===eb||!l;!g&&l&&0<l.length&&(!l||!f||l.length!==f.length||-1<l.findIndex((m,k)=>m!==f[k]))&&(g=!0);h.J=l;g&&(h.j&&h.j(),h.j=h.V())},d?0:5E3)}let W=new WeakMap,gb=(h,d)=>{if(!W.has(h)){const f=new MutationObserver(l=>{for(const g of l)"attributes"===g.type&&d(g.attributeName,h.getAttribute(g.attributeName))});W.set(h,f)}};
function hb(h,d){let f=[];return B({},()=>{},{set:(l,g,m)=>{l[g]!==m&&f.includes(g)&&d();return m},get:(l,g)=>{l[g]||(l[g]=h[g]||void 0);f.includes(g)||(f.push(g),Object.defineProperty(h,g,{get:()=>l[g],set:m=>{l[g]!==m&&(l[g]=m,d())}}))}})}function ib(h,d){let f=[],l=B({},()=>{},{set:(g,m,k)=>{g[m]!==k&&(T(()=>{h.setAttribute(m,k)}),d());return k},get:(g,m)=>{g[m]||(g[m]=h.getAttribute(m)||void 0);f.includes(m)||f.push(m);return g[m]}});gb(h,(g,m)=>{f.includes(g)&&(l[g]=m)});return l}let jb=new WeakMap;

function component(h,d){customElements.define(h,class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"});let f={L:[]};jb.set(this,f);let l=!1,g=!1;f.a=!0;f.b=()=>{l?g=!0:(l=!0,T(()=>{f.K();l=!1;g&&(g=!1,f.b())},f.a?0:5E3))};f.K=()=>{f.a&&(f.B=d(f.state));let m=$a(f.B.next().value||[]);m.children.push(()=>{f.L.forEach(k=>fb(k,f.a));l=!1;f.a&&W.has(this)&&W.get(this).observe(this,{attributes:!0});f.a=!1;g&&(g=!1,f.b())});db(this.shadowRoot,m)}}connectedCallback(){let f=jb.get(this);
f.connected||(f.a&&(f.state=la({attributes:ib(this,()=>f.b()),u:hb(this,()=>f.b())})),f.connected=!0,f.H=f.state.s(()=>{f.b()}),f.b())}disconnectedCallback(){let f=jb.get(this);f.connected&&(f.connected=!1,f.H(),W.has(this)&&W.get(this).disconnect())}})};export{la as $state,component,ab as html,B as proxify,db as render}
