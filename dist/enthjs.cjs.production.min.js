"use strict";function e(e){this.wrapped=e}function t(t){var n,r;function o(n,r){try{var i=t[n](r),c=i.value,u=c instanceof e;Promise.resolve(u?c.wrapped:c).then((function(e){u?o("return"===n?"return":"next",e):a(i.done?"return":"normal",e)}),(function(e){o("throw",e)}))}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise((function(a,i){var c={key:e,arg:t,resolve:a,reject:i,next:null};r?r=r.next=c:(n=r=c,o(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}function n(e){return function(){return new t(e.apply(this,arguments))}}function r(t){return new e(t)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n){return(c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)};var f=new WeakSet;function d(e,t,n){void 0===n&&(n={});var r=!1,o=function(){r&&t()};Object.keys(e).forEach((function(n){"object"!=typeof e[n]||f.has(e[n])||(e[n]=d(e[n],t))}));var a=new Proxy(e,{get:function(e,t){return n.get&&n.get(e,t),e[t]},set:function(e,t,a){return n.set&&(a=n.set(e,t,a)),"object"!=typeof a||f.has(a)||(console.log("proxify"),a=d(a,o)),e[t]===a&&r||"__$p"===t||"on"===t||(e[t]=a,o()),e[t]=a,!0}});return f.add(a),r=!0,a}var p,l=function(e){void 0===e&&(e={});var t=[],n=!0,r=d(e,(function(){n&&t.forEach((function(e){return e(r)}))}));return r.on=function(e){return t.push(e),function(){var n=t.indexOf(e);n>1&&t.splice(n,1)}},r.merge=function(e){var t=function(e){Object.keys(e).forEach((function(t){["on","merge"].includes(t)||(r[t]=e[t])}))};e.on((function(e){t(e)})),n=!1,t(e),n=!0},r};!function(e){e[e.TEXT=0]="TEXT",e[e.REPLACE_NODE=1]="REPLACE_NODE",e[e.ADD_NODE=2]="ADD_NODE",e[e.PREPEND_NODE=3]="PREPEND_NODE",e[e.INSERT_BEFORE=4]="INSERT_BEFORE",e[e.INSERT_AFTER=5]="INSERT_AFTER",e[e.REMOVE=6]="REMOVE",e[e.ADD_CLASS=7]="ADD_CLASS",e[e.REMOVE_CLASS=8]="REMOVE_CLASS",e[e.SET_ATTRIBUTE=9]="SET_ATTRIBUTE",e[e.CUSTOM=10]="CUSTOM"}(p||(p={}));var v=Symbol.for("directive");function h(e){return function(e){return function t(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n={})[v]=!0,n.factory=e,n.args=o,n.directive=t,n}}(e)}var m,E=function(e){return e.toLowerCase()!=e.toUpperCase()};!function(e){e[e.TEXT=0]="TEXT",e[e.ATTRIBUTE=1]="ATTRIBUTE",e[e.ATTRIBUTE_VALUE=2]="ATTRIBUTE_VALUE"}(m||(m={}));var y=function(e){return"tm-"+e},b=function(e){return"data-am-"+e},R=Symbol.for("html_result");function x(e){return"object"==typeof e&&e[v]}var g,T=new WeakMap;!function(e){e[e.IMMEDIATE=0]="IMMEDIATE",e[e.USER_BLOCKING=250]="USER_BLOCKING",e[e.NORMAL=5e3]="NORMAL",e[e.LOW=1e4]="LOW",e[e.IDLE=99999999]="IDLE"}(g||(g={}));var w=[],k=!1,A=function e(){var t=Date.now();console.log(w.length),(w=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=Date.now()-t,a=e[n],i=a[0];if(!(t>=a[1]||o<17))break;i()}return e.slice(n)}(w.sort((function(e,t){return e[1]<t[1]?-1:1})),t)).length>0?requestAnimationFrame(e):k=!1},O=function(e,t){return void 0===t&&(t=g.NORMAL),t!==g.IMMEDIATE?new Promise((function(n){w.push([function(){e(),n()},Date.now()+t]),k||(requestAnimationFrame(A),k=!0)})):(e(),Promise.resolve())},P=new WeakMap,_=function(e){return e};function N(e){_=e}var S=function(e,t,n){for(;t++;){var r=n.charAt(t);if(!r)break;if(" "===r)return n.slice(0,t)+" "+e+n.slice(t)}return n},D=new WeakMap;function L(e,t){return e.directive||(Object.assign(e,t(e)),e.directive&&(e.staticValue=void 0)),e}var I=new WeakMap,V=function(e,t){var n,r=!1,o=I.get(e)||{};if(I.set(e,o),!P.has(e)){r=!0;var a=function(e){for(var t="",n=e.dynamicData,r=e.staticParts,o=0;o<n.length;o++){var a=L(n[o],_);if(t+=r[o],a.staticValue)t+=a.staticValue;else switch(a.type){case m.TEXT:t+=a.marker;break;case m.ATTRIBUTE_VALUE:case m.ATTRIBUTE:t=S(a.marker,t.length+1-a.dx,t)}}t+=r[r.length-1];var i=document.createElement("template");return i.innerHTML=t.trim(),i}(t);!function(e,t,n){var r=[];D.set(t,r);var o=e.content;n.template=e.cloneNode(!0),n.dynamicData.forEach((function(e,n){var a,i;if(e.directive)switch(e.type){case m.TEXT:var c,u=y(n),s=o.querySelector(u),f=!1;if(s)c=s.firstChild;else{f=!0;for(var d=o.querySelectorAll("textarea"),p=0;p<d.length;p++){var l=d[p];if(l.innerText.includes(u)){c=l.firstChild;break}}}r[n]=(a=e.directive.factory).call.apply(a,[{type:e.type,container:t},c].concat(e.directive.args)),f||s.parentNode.replaceChild(c,s);break;case m.ATTRIBUTE:case m.ATTRIBUTE_VALUE:var v=b(n),h=o.querySelector("["+v+"]");r[n]=(i=e.directive.factory).call.apply(i,[{type:e.type,container:t},h].concat(e.directive.args)),h.removeAttribute(v)}})),P.set(t,Array.from(o.childNodes))}(a,e,t),n=a.content}var i=D.get(e);o.staticParts!==t.staticParts&&(o.staticParts=t.staticParts,o.states=[],o.prevValues=[]);var c=Promise.all(t.dynamicData.map((function(e,t){try{return o.prevValues[t]||(o.prevValues[t]=[]),e=L(e,_),Promise.resolve(function(){if(e.directive)return function(){if(o.prevValues[t].length!==e.directive.args.length||o.prevValues[t].findIndex((function(t,n){return e.directive.args[n]!==t||e.directive.args[n]instanceof Object}))>-1)return void 0===o.states[t]&&(o.states[t]={}),Promise.resolve(i[t].next(e.directive.args)).then((function(n){return Promise.resolve(n.value).then((function(n){var a;if(o.prevValues[t].length=0,(a=o.prevValues[t]).push.apply(a,e.directive.args),n&&n.length>0)return O((function(){n.forEach((function(e){switch(e.type){case p.TEXT:e.node.textContent=e.value;break;case p.ADD_NODE:e.node.appendChild(e.newNode);break;case p.PREPEND_NODE:e.node.firstChild?e.node.insertBefore(e.newNode,e.node.firstChild):e.node.appendChild(e.newNode);break;case p.REPLACE_NODE:e.node.parentNode.replaceChild(e.newNode,e.node);break;case p.INSERT_BEFORE:e.node.parentNode.insertBefore(e.newNode,e.node);break;case p.INSERT_AFTER:e.node.nextSibling?e.node.parentNode.insertBefore(e.newNode,e.node.nextSibling):e.node.parentNode.appendChild(e.newNode);break;case p.REMOVE:e.node.parentNode.removeChild(e.node);break;case p.ADD_CLASS:e.node.classList.add(e.value);break;case p.REMOVE_CLASS:e.node.classList.remove(e.value);break;case p.SET_ATTRIBUTE:e.node.setAttribute(e.name,e.value)}}))}),r?g.IMMEDIATE:void 0)}))}))}()}())}catch(e){return Promise.reject(e)}}))).then((function(){}));return n&&e.appendChild(n),c},C=Symbol.for("component_context");function M(){if(window[C])return window[C]}function U(){var e=M();if(e)return e.host;throw"getHost can only be called in the setup phase!"}var j=new WeakMap,B=function(e,t){if(!j.has(e)){var n=new MutationObserver((function(n){var r=n,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}"attributes"===i.type&&t(i.attributeName,e.getAttribute(i.attributeName))}}));j.set(e,n)}};function F(e,t){var n=[];return d({},(function(){}),{set:function(e,r,o){return e[r]!==o&&n.includes(r)&&t(),o},get:function(r,o){r[o]||(r[o]=e[o]||void 0),n.includes(o)||(n.push(o),Object.defineProperty(e,o,{get:function(){return r[o]},set:function(e){r[o]!==e&&(r[o]=e,t())}}))}})}var W=h(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.type!==m.TEXT){e.next=7;break}case 1:return e.next=3,[{node:t,value:n,type:p.TEXT}];case 3:n=e.sent[0];case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))),X=h(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof HTMLElement)){e.next=6;break}r=[],o=regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],r.forEach((function(e){e&&o.push({type:p.REMOVE_CLASS,node:t,value:e})})),(r=n.trim().split(" ")).forEach((function(e){e&&o.push({type:p.ADD_CLASS,node:t,value:e})})),e.next=6,o;case 6:n=e.sent[0];case 7:case"end":return e.stop()}}),e)}));case 3:return e.delegateYield(o(),"t0",4);case 4:e.next=3;break;case 6:case"end":return e.stop()}}),e)}))),q=h(regeneratorRuntime.mark((function e(t,n,r){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof HTMLElement)||this.type!==m.ATTRIBUTE&&this.type!==m.ATTRIBUTE_VALUE){e.next=9;break}case 1:return o=[{type:p.SET_ATTRIBUTE,node:t,value:r,name:n}],e.next=4,o;case 4:n=(a=e.sent)[0],r=a[1];case 7:e.next=1;break;case 9:case"end":return e.stop()}}),e,this)}))),H=h(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.removeAttribute(n),n.startsWith("on")&&(n=n.replace("on","")),o={cb:r},t.addEventListener(n,(function(e){O((function(){return o.cb(e)}),g.IMMEDIATE)}));case 4:return void(e.next=6);case 6:o.cb=e.sent[1];case 7:e.next=4;break;case 9:case"end":return e.stop()}}),e)}))),Y=h(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof HTMLElement)){e.next=11;break}t.removeAttribute(n);case 2:return n.startsWith(".")&&(n=n.replace(".","")),t[n]=r,void(e.next=6);case 6:n=(o=e.sent)[0],r=o[1];case 9:e.next=2;break;case 11:case"end":return e.stop()}}),e)}))),$=h(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={cb:n},t.addEventListener("input",(function(e){var t=e.target.value;O((function(){return r.cb(t)}),g.NORMAL)}));case 2:return void(e.next=4);case 4:r.cb=e.sent[0];case 5:e.next=2;break;case 7:case"end":return e.stop()}}),e)}))),Q=h(function(){var e=n(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.type!==m.TEXT){e.next=2;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=document.createComment(""),a=[{type:p.REPLACE_NODE,node:t,newNode:o}],u=[];case 3:if(i!==n.staticParts){e.next=8;break}return e.next=6,r(V(c,n));case 6:e.next=16;break;case 8:return s=document.createDocumentFragment(),e.next=11,r(V(s,n));case 11:u.forEach((function(e){a.push({type:p.REMOVE,node:e})})),u=[],s.childNodes.forEach((function(e){u.push(e),a.push({type:p.INSERT_BEFORE,node:o,newNode:e})})),i=n.staticParts,c=s;case 16:return e.next=18,a;case 18:n=e.sent[0],a=[];case 20:e.next=3;break;case 22:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),G=h(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==t.nodeType){e.next=2;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=document.createComment(""),o=[{type:p.REPLACE_NODE,node:t,newNode:r}],a=document.createElement("template"),i=[];case 4:return a.innerHTML=n,c=a.content,i.forEach((function(e){o.push({type:p.REMOVE,node:e})})),i=[],c.childNodes.forEach((function(e){i.push(e),o.push({type:p.INSERT_BEFORE,node:r,newNode:e})})),e.next=11,o;case 11:n=e.sent[0],o=[];case 13:e.next=4;break;case 15:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:case"end":return e.stop()}}),e)})));function K(e){var t=e.dynamicData,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;if("key"===a.attribute&&(a.directive=J(a.staticValue),delete a.staticValue),a.directive&&a.directive.directive===J)return a.directive.args[0]}return e.staticParts.join()}var z=h(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==t.nodeType){e.next=2;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=document.createDocumentFragment(),o=document.createComment(""),a=document.createComment(""),r.appendChild(a),r.appendChild(o),i=new Map,c=[{type:p.REPLACE_NODE,node:t,newNode:r}],u=[],s=regeneratorRuntime.mark((function e(){var t,r,s,f,d,l,v,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(e){var n=u.indexOf(e),o=t.indexOf(e);n!==o&&(n>-1&&-1===o?(c.push({type:p.REMOVE,node:i.get(e)[1]}),u.splice(n,1)):r(e,n,o))},r=function(e,n,r){var s=t[r+1],f=t.indexOf(s);if(-1===f)(n<Math.max(0,u.length-1)||-1===r)&&(c.push({type:p.INSERT_BEFORE,node:o,newNode:i.get(e)[1]}),n>-1&&u.splice(n,1),u.push(e));else if(u.indexOf(s)===f)c.push({type:p.INSERT_BEFORE,node:i.get(s)[1],newNode:i.get(e)[1]}),n>-1&&u.splice(n,1),u.splice(u.indexOf(s),0,e);else{var d=t[r-1],l=t.indexOf(d);-1===l?(c.push({type:p.INSERT_AFTER,node:a,newNode:i.get(e)[1]}),n>-1&&u.splice(n,1),u.unshift(e)):u.indexOf(d)===l&&(c.push({type:p.INSERT_AFTER,node:i.get(d)[1],newNode:i.get(e)[1]}),n>-1&&u.splice(n,1),u.splice(u.indexOf(s)+1,0,e))}},t=n.map((function(e){var t=K(e);if(i.has(t)){var n=i.get(t)[0];V(n,e)}else{var r=document.createDocumentFragment();if(V(r,e),r.childNodes.length>1)throw"List items should only render a single node!";i.set(t,[r,r.childNodes[0]])}return t})),f=0;case 4:if(t.join()===u.join()){e.next=14;break}if(!(++f>t.length)){e.next=9;break}return console.log("break"),e.abrupt("break",14);case 9:for(d=[].concat(u),l=[].concat(t),v=0;v<Math.max(u.length,t.length);v++)(h=d[v])&&t.indexOf(h)!==v&&s(h),(h=l[v])&&u.indexOf(h)!==v&&s(h);e.next=4;break;case 14:return e.next=16,c;case 16:n=e.sent[0],c=[];case 18:case"end":return e.stop()}}),e)}));case 9:return e.delegateYield(s(),"t0",10);case 10:e.next=9;break;case 12:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:case"end":return e.stop()}}),e)}))),J=h(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.removeAttribute("key");case 1:case"end":return e.stop()}}),e)})));exports.$state=l,exports.applyDefaultFallback=function(){N((function(e){return e.type===m.TEXT&&("string"==typeof e.staticValue||"number"==typeof e.staticValue?e.directive=W(e.staticValue+""):e.staticValue instanceof Array&&-1===e.staticValue.findIndex((function(e){return!("object"==typeof e&&e[R])}))&&(e.directive=z(e.staticValue))),e.type===m.ATTRIBUTE_VALUE&&(e.directive=e.attribute.startsWith("on")?H(e.attribute,e.staticValue):e.attribute.startsWith(".")?Y(e.attribute,e.staticValue):"key"===e.attribute?J(e.staticValue):q(e.attribute,e.staticValue+"")),e.type===m.TEXT&&"object"==typeof e.staticValue&&e.staticValue.dynamicData&&(e.directive=Q(e.staticValue)),e}))},exports.attr=q,exports.clss=X,exports.component=function(e,t){customElements.define(e,function(e){var n,r;function o(){var n,r,o,a,i;return(n=e.call(this)||this).disconnectedListeners=[],n.context={connectedListeners:[],sideEffects:[],host:s(n)},n.connected=!1,n.nextQueued=!1,window[C]=n.context,n.attachShadow({mode:"open"}),n.$s=l({attributes:(r=s(n),o=function(){return n.queueRender()},a=[],i=d({},(function(){}),{set:function(e,t,n){return e[t]!==n&&(O((function(){r.setAttribute(t,n)})),o()),n},get:function(e,t){return e[t]||(e[t]=r.getAttribute(t)||void 0),a.includes(t)||a.push(t),e[t]}}),B(r,(function(e,t){a.includes(e)&&(i[e]=t)})),i),properties:F(s(n),(function(){return n.queueRender()}))}),n.generator=t(n.$s),n}r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a=o.prototype;return a.canRunSideEffect=function(e){if(e.canRun=e.canRun||!e.deps||!e.prevDeps,e.canRun)e.deps&&(e.prevDeps=e.deps());else{var t=e.deps();e.prevDeps?t.findIndex((function(t,n){return e.prevDeps[n]!==t}))>-1&&(e.canRun=!0):e.canRun=!0,e.prevDeps=t}return e.canRun},a.runSideEffects=function(){try{var e=this,t=[],n=function(){if(o){if(a>=r.length)return"break";i=r[a++]}else{if((a=r.next()).done)return"break";i=a.value}var n=i;e.canRunSideEffect(n)&&(n.canRun=void 0,t.push(new Promise((function(e){try{return Promise.resolve(O((function(){n.cleanUp=n.cb()}),g.LOW)).then((function(){e()}))}catch(e){return Promise.reject(e)}}))))},r=e.context.sideEffects,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if("break"===n())break}return Promise.resolve(Promise.all(t)).then((function(){}))}catch(e){return Promise.reject(e)}},a.runCleanUps=function(e){void 0===e&&(e=!1);try{var t=this,n=[],r=function(){if(a){if(i>=o.length)return"break";c=o[i++]}else{if((i=o.next()).done)return"break";c=i.value}var r=c;(t.canRunSideEffect(r)||e)&&r.cleanUp&&n.push(new Promise((function(e){try{return Promise.resolve(O((function(){r.cleanUp(),r.cleanUp=void 0}),g.LOW)).then((function(){e()}))}catch(e){return Promise.reject(e)}})))},o=t.context.sideEffects,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var c;if("break"===r())break}return Promise.resolve(Promise.all(n)).then((function(){}))}catch(e){return Promise.reject(e)}},a.queueRender=function(){try{var e=this;if(e.renderPromise)e.nextQueued=!0;else{var t=e.generator.next().value;window[C]=void 0,t&&(e.renderPromise=new Promise((function(n){try{return Promise.resolve(e.runCleanUps()).then((function(){return Promise.resolve(V(e.shadowRoot,t())).then((function(){return Promise.resolve(e.runSideEffects()).then((function(){e.renderPromise=void 0,e.nextQueued&&(e.nextQueued=!1,e.queueRender()),n()}))}))}))}catch(e){return Promise.reject(e)}})))}return Promise.resolve()}catch(e){return Promise.reject(e)}},a.connectedCallback=function(){var e=this;this.connected||(this.queueRender(),this.stopRenderLoop=this.$s.on((function(){e.queueRender()})),j.has(this)&&j.get(this).observe(this,{attributes:!0})),this.disconnectedListeners=this.context.connectedListeners.map((function(e){return e()})).filter((function(e){return e}))},a.disconnectedCallback=function(){try{var e=this,t=function(){if(e.connected)return j.has(t=e)&&j.get(t).disconnect(),e.stopRenderLoop&&e.stopRenderLoop(),e.connected=!1,e.disconnectedListeners.forEach((function(e){return e()})),e.disconnectedListeners=[],Promise.resolve(e.renderPromise).then((function(){e.runCleanUps(!0),e.context.sideEffects.forEach((function(e){e.prevDeps=void 0}))}));var t}();return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},o}(u(HTMLElement)))},exports.connected=function(e){var t=M();t&&t.connectedListeners.push(e)},exports.createDirective=h,exports.createEvent=function(e,t){void 0===t&&(t={bubbles:!0,composed:!0});var n=U();return function(r){return n.dispatchEvent(new CustomEvent(e,o({},t,{detail:r})))}},exports.defineFallback=N,exports.frag=G,exports.getHost=U,exports.html=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=T.get(e);if(a)a=o({},a,{dynamicData:a.dynamicData.map((function(e,t){return x(n[t])?o({},e,{staticValue:void 0,directive:n[t]}):o({},e,{directive:void 0,staticValue:n[t]})}))});else{for(var i,c="",u=[],s=0;s<n.length;s++){var f=n[s],d=e[s];c+=d;var p=0,l=u.push({staticParts:e})-1,v=u[l];x(f)?v.directive=f:v.staticValue=f;for(var h=c.length+1,g=!1,w=!1,k=!1,A="";h--;){p++;var O=c.charAt(h),P=c.charAt(h-1),_=c.charAt(h-2);if(">"===O||0===h){var N=y(l);v.marker="<"+N+">&zwnj;</"+N+">",v.type=m.TEXT;break}if('"'!==O||"="!==P||!E(_)||w)if('"'!==O||"="===_||g){if(g&&'"'!==O&&"="!==O&&!k&&(" "!==O?A=O+A:k=!0),"<"===O&&g){v.marker=b(l),v.type=m.ATTRIBUTE_VALUE,v.attribute=A;break}if("<"===O&&!g){v.marker=b(l),v.type=m.ATTRIBUTE;break}}else g=!1,w=!0;else g=!0}v.dx=p}c+=e[e.length-1],(i={dynamicData:u,staticParts:e})[R]=!0,T.set(e,a=i)}return a},exports.input=$,exports.key=J,exports.list=z,exports.on=H,exports.prop=Y,exports.render=V,exports.sideEffect=function(e,t){var n=M();n&&n.sideEffects.push({cb:e,deps:t})},exports.sub=Q,exports.text=W;
//# sourceMappingURL=enthjs.cjs.production.min.js.map
